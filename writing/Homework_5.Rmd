---
title: "Homework_5"
author: "Zane Wilson"
date: "2023-11-25"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


Goal is to create a map showing the locations of homicides in Atlanta, GA. Use sf and tigris to download boundaries for the sub city geography (tracts, block groups, county subdivisions) to show as a layer underneath the points showing homicides. Differentiate solved and unsolved homicides using facets and show the three race groups with the highest number of homicides for the city. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(tidyverse)
library(tigris)
library(sf)
library(forcats)
homicide <- read.csv("~/Work/Fall 2023/R for Research/Homework_5/data/homicide-data.csv")


```


```{r Constricting data}
#Data just for Atlanta 

homicide <- homicide %>% 
  unite(col = city_name, city, state, sep = "," )

atlanta <- homicide %>% 
  filter(city_name %in% "Atlanta,GA")

#three race groups with the highest number of homicides.

atlanta<-atlanta %>% 
  mutate(victim_race =fct_lump_n(victim_race %>% as.factor, n=3))
  
  

```

```{r}
#Separating cases into solved and unsolved 

at_uns<-atlanta %>% 
  filter(disposition %in% c("Closed without arrest", "Open/No arrest"))
at_uns

at_sol<- atlanta %>% 
  filter(disposition %in% "Closed by arrest")
at_sol

```